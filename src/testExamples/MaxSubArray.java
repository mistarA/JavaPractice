package testExamples;

import java.lang.reflect.Array;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.List;

public class MaxSubArray {


    public static void main(String[] args) {
        int[] arr2 = {-2, 1, -3, 4, -1, 2, 1, -5, 4};
        int[] arr1 = {-163, -20};
        int[] arr = {56, -451, -222, 80, -57, -85, -304, -108, 95, -377, -282, -260, -497, -471, -97, -350, -147, 62,
                -447, -229, 78, -165, -333, -427, -59, -338, 60, -207, -247, -431, -54, -240, -426, -123, -209, 57, -74,
                -287, -70, -292, 45, -278, -408, -129, -35, 65, -77, -230, -426, 20, -402, -375, -449, -280, -125, -15,
                -21, -327, -366, 64, -211, -414, -307};

        int[] arr3 = {-355, -123, -390, 42, -243, 88, 43, 59, 84, 24, -118, -191, -195, -402, -436, 90, 82, -363, -376,
                -427, -493, -63, -2, -59, -448, -433, 98, -298, -289, -38, -328, -179, -39, -433, -117, -99, -477, -373,
                -10, 69, -6, 81, -46, -415, -327, 9, -237, -97, -479, 1, -162, 36, 10, -175, 94, -360, -471, -253, -40,
                -445, -168, -252, 2, -367, -465, -65, -172, -162, -470, -439, 74, -187, -184, 85, -317, -298, -291, 20,
                -178, 5, -283, -221, -32, 49, -492, 57, -48, -23, -126, -214, -341, -115, 69, 28, -417, -193, -100, -452,
                15, -374, -7, 77, -131, -191, -12, -8, -230, -56, -38, -284, -175, -417, -95, 61, -164, -228, -249, 91,
                60, -210, -133, -226, -341, -189, -211, -445, -64, 28, -22, -422, 2, -487, -123, -356, -203, -349, -32,
                95, -294, -396, -344, -34, -478, -80, -474, -3, -125, -495, -338, -458, -412, 93, -191, -66, -167, -309,
                19, -73, -173, 70, -101, -122, -380, -352, -335, -309, 59, -135, -328, 94, 30, -462, -207, -462, -482,
                -155, -29, -220, -211, -380, 0, -85, 99, -474, -58, -449, 37, -421, -4, -478, -185, 4, -109, -182, -77,
                27, -306, -371, 58, -455, -11, -260, -350, -142, 21, -240, 47, -399, -498, -16, -211, 48, -241, -166, 77,
                -223, -321, 92, -377, -28, -336, 80, -127, -244, -422, -480, -45, 44, -209, -377, 9, 73, -363, 15, -3,
                -444, -271, -132, -433, -16, -54, -262, -340, -332, -81, -246, -243, 98, -457, 47, -235, -446, -140, 14,
                -434, -152, -459, -398, 79, 89, -437, -249, -240, -394, -231, -146, -256, -469, 74, 75, 48, -207, -294,
                -490, -345, -195, -224, 32, -308, -348, -111, 50, -273, -204, -11, 39, -443, 68, -239, -145, -122, -190,
                3, -222, 55, -165, -176, -237, -95, -335, -177, -204, -9, -278, -66, -329, -123, -25, -83, -417, -404,
                -428, -417, -138, -77, -454, -297, -11, -65, -134, -108, 16, -426, 78, 42, 25, -152, -121, 53, -139,
                -16, -460, 47, -212, -462, -111, -345, 38, -213, 0, 18, -133, -475, -8, -465, 79, -497, -164, -18,
                -179, -50, -456, -242, 72, -278, -183, -296, -380, -393, -404, 5, -447, -155, -439, -83, -186, -76,
                -444, -353, 6, -6, -65, 40, -411, -96, 11, -335, -393, 98, -335, -13, -362, -9, 62, 60, -62, -315, -237,
                -408, -43, -49, -297, -430, -67, -15, -218, -61, -184, -234, -175, -445, -209, -468, 76, 7, 38, -7, -407,
                -144, -39, -121, -73, -225, -65, 86, -258, -51, -47, 35, -473, -398, -274, -283, -145, -17, -297, 90,
                -151, -498, -355, -228, -14, -248, -375, -292, -303, -83, -178, -127, 21, -432, -222, 95, -217, -277,
                -490, -15, -345, 56, -442, -122, -107, -112, -77, 38, -482, -352, 40, -276, -282, -297, -79, -366, -76,
                -376, 21, 8, 64, -244, -104, -381, -263, -201, -131, -409, -344, -471, -292, -318, -381, -304, -496,
                -174, -306, -485, -326, -405, 21, -343, -264, -185, -19, -142, -293, -115, -430, 46, 83, -372, -103,
                -450, -265, 56, 29, -256, 94, -368, -421, -283, -139, -143, -338, -83, 68, -156, -211, 24, 91, -20,
                -487, -231, -268, -170, -132, -358, 45, -177, -247, -65, -418, -238, -190, 89, -313, -452, -177, -138,
                -398, -372, -178, -34, -33, 84, -164, -311, -491, -497, -387, -137, -390, -265, 11, -166, -494, 99,
                -105, -419, -378, -274, -211, 71, -20, -45, -299, -169, -371, -477, -139, 11, -357, -426, 70, -51, -293,
                -216, -466, -349, -489, -193, -85, -473, -169, 31, -474, -220, -225, -46, -276, -283, -221, -449, 54, 68,
                -190, -209, -127, -370, 54, -481, -128, -208, -354, 66, -301, -213, -447, 84, -164, -403, -343, -182, 99,
                -58, -371, -496, 90, -54, -330, -493, 73, -262, -398, -239, 63, -164, -319, -31, -322, -457, -305, -180,
                -265, 57, -113, -498, -48, -55, -164, -294, -188, -476, -14, -211, -485, -254, -360, -159, -105, -165,
                -146, -467, -473, -469, 56, -104, -428, 4, -255, -485, 76, -485, -245, -32, -341, -79, -47, -369, -361,
                -470, -409, -280, -383, 49, -188, 100, -420, -131, -28, -475, -165, -343, -235, -51, -500, 12, -178,
                -238, -148, -362, -39, -144, -389, 5, -287, -332, -470, -297, -125, -452, -9, -309, -380, 88, 39, -59,
                -86, -253, -141, -426, -240, 27, -466, -92, -466, -321, -156, 20, -368, -171, 77, -310, -496, -426, -317,
                -459, -279, -361, -128, 45, 53, -226, -344, -310, -221, -339, -51, 63, -475, -411, 60, 12, -304, -88, -134,
                -419, -144, -146, -406, -79, -426, -297, -435, -144, -424, -158, -387, 90, -38, 1, -7, -410, -182, 80, -274,
                -395, 85, -42, 50, -332, 70, -267, -437, 91, 97, -166, -333, -256, 50, 74, -57, -345, -378, -53, -88, -384,
                -177, 83, -164, -101, -348, -92, 99, -192, -116, 67, 26, -439, 83, -129, -183, -310, 96, 61, -206, 46, -446,
                93, -155, -481, -252, -189, -267, 17, -190, -7, -192, 28, -211, -376, -121, -157, -251, -301, -203, -395, -74,
                -208, -20, -53, -448, -317, -379, -241, 85, -338, -19, -136, -366, 23, -413, -272, -185, -322, -314, -248,
                -122, -380, -177, -230, -486, -62, -378, -458, -496, -90, -380, -430, -172, -491, -325, 33, -59, -222,
                -295, -412, -308, -415, -475, -428, -390, -243, -487, -244, -9, -495, -292, -112, -108, -37, -297, -79,
                57, -315, -326, 74};

        int maxSum = arr[0];
        int sum = 0;
        if (arr.length == 1) {
            System.out.println(arr[0]);
            System.exit(0);
        }
        int negativeElementsCount = 0;
        for (int i = 0; i < arr.length; i++) {
            if (arr[i] < 0) {
                negativeElementsCount++;
            }
            sum = sum + arr[i];
            if (sum < 0) {
                sum = 0;
            }
            if (maxSum < sum) {
                maxSum = sum;
            }
        }
        if (negativeElementsCount == arr.length) {
            int[] tempArray = arr;
            Arrays.sort(tempArray);
            System.out.println(tempArray[tempArray.length - 1]);
            System.exit(0);
        }
        System.out.println(maxSum);
    }

}
